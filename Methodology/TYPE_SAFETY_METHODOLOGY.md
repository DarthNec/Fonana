# üîí –ú–ï–¢–û–î–û–õ–û–ì–ò–Ø –¢–ò–ü–û–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò –ò –í–ï–†–°–ò–û–ù–ù–û–ô –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–ò

## üìã –ù–ê–ó–ù–ê–ß–ï–ù–ò–ï
–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç–∏–ø–æ–≤, –≤–µ—Ä—Å–∏–æ–Ω–Ω—ã—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π –Ω–∞ —ç—Ç–∞–ø–µ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏.

---

## üö® –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ü–†–û–í–ï–†–ö–ò –ü–ï–†–ï–î –ò–ú–ü–õ–ï–ú–ï–ù–¢–ê–¶–ò–ï–ô

### 1Ô∏è‚É£ **–ü–†–û–í–ï–†–ö–ê –¢–ò–ü–û–í –î–ê–ù–ù–´–• –ë–î**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
psql -c "SELECT column_name, data_type FROM information_schema.columns WHERE table_name = 'table_name';"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç decimal –ø–æ–ª–µ–π
curl -s "http://localhost:3000/api/[endpoint]" | jq '.price | type'
```

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è:**
- `decimal` –≤ PostgreSQL ‚Üí `string` –≤ JavaScript runtime
- `timestamp` –≤ PostgreSQL ‚Üí `Date` –æ–±—ä–µ–∫—Ç –≤ Drizzle ‚Üí —Ç—Ä–µ–±—É–µ—Ç—Å—è `.toISOString()`
- `jsonb` –≤ PostgreSQL ‚Üí —Ç—Ä–µ–±—É–µ—Ç JSON.parse/stringify

**–ü—Ä–∞–≤–∏–ª–æ:** –í–°–ï–ì–î–ê –ø—Ä–æ–≤–µ—Ä—è—Ç—å runtime —Ç–∏–ø, –Ω–µ –¥–æ–≤–µ—Ä—è—Ç—å —Å—Ö–µ–º–µ.

### 2Ô∏è‚É£ **–ü–†–û–í–ï–†–ö–ê –í–ï–†–°–ò–ô –ó–ê–í–ò–°–ò–ú–û–°–¢–ï–ô**
```bash
# –ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º API –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é
grep "@trpc/server" package.json
grep "@trpc/client" package.json

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å breaking changes
npm view @trpc/server versions --json | jq '.[-5:]'
```

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- tRPC v10+: `isLoading` ‚Üí `isPending` –≤ –º—É—Ç–∞—Ü–∏—è—Ö
- Next.js 14: —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è `href` –≤ Link
- Solana wallet-adapter: —É–¥–∞–ª–µ–Ω—ã `onConnect`, `onDisconnect`, `onError` –ø—Ä–æ–ø—Å—ã

**–ü—Ä–∞–≤–∏–ª–æ:** –ü—Ä–æ–≤–µ—Ä—è—Ç—å changelog –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º API –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.

### 3Ô∏è‚É£ **–ü–†–û–í–ï–†–ö–ê –°–£–©–ï–°–¢–í–£–Æ–©–ò–• –¢–ò–ü–û–í**
```typescript
// –ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞
grep -r "interface.*Post" src/
grep -r "type.*Post" src/

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç—ã
grep -r "export.*Post" src/lib/schemas/
```

**–ü—Ä–∞–≤–∏–ª–æ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∏–ø—ã, —Ä–∞—Å—à–∏—Ä—è—Ç—å —á–µ—Ä–µ–∑ `extends` –∏–ª–∏ `Omit/Pick`.

---

## üîç RUNTIME –ü–†–û–í–ï–†–ö–ò

### **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê –î–ê–ù–ù–´–• API**
```bash
# –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
curl -s "http://localhost:3000/api/posts" | jq '.[0]' > sample.json

# –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
jq 'keys' sample.json

# –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø—ã –ø–æ–ª–µ–π
jq '.price | type' sample.json
jq '.createdAt | type' sample.json
```

### **–ü–†–û–í–ï–†–ö–ê NULLABLE –ü–û–õ–ï–ô**
```typescript
// –í –∫–æ–¥–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ö–ê–ñ–î–û–ï –ø–æ–ª–µ –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –±—ã—Ç—å null
interface ApiResponse {
  user: {
    nickname: string | null  // –ù–ï string
    avatar: string | null    // –ù–ï string
  }
}

// –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const displayName = user.nickname || 'Anonymous'
const avatarUrl = user.avatar || '/default-avatar.png'
```

---

## üìä –ú–ê–¢–†–ò–¶–ê –¢–ò–ü–û–í–´–• –ü–†–ï–û–ë–†–ê–ó–û–í–ê–ù–ò–ô

| –ë–î –¢–∏–ø | Drizzle Return | TypeScript –¢–∏–ø | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ |
|--------|----------------|----------------|----------------|
| decimal | string | number | `parseFloat()` –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å string |
| timestamp | Date | string (ISO) | `.toISOString()` |
| jsonb | object/array | typed object | Zod parse |
| text[] | string[] | string[] | –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
| boolean | boolean | boolean | –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
| uuid | string | string | –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |

---

## üõ°Ô∏è –ó–ê–©–ò–¢–ù–´–ï –ü–ê–¢–¢–ï–†–ù–´

### **1. –í–°–ï–ì–î–ê –ü–†–ò–í–û–î–ò–¢–¨ –¢–ò–ü–´ –ù–ê –ì–†–ê–ù–ò–¶–ê–•**
```typescript
// API endpoint
const [post] = await db.insert(posts).values({
  ...input,
  price: input.price?.toString(), // number ‚Üí string
  tags: input.tags ? JSON.stringify(input.tags) : null, // array ‚Üí JSON
}).returning()

// Frontend –ø–æ–ª—É—á–µ–Ω–∏–µ
const price = parseFloat(post.price) // string ‚Üí number
const tags = post.tags ? JSON.parse(post.tags) : [] // JSON ‚Üí array
```

### **2. –ó–ê–©–ò–¢–ê –û–¢ NULL**
```typescript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
alt={user.nickname}

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
alt={user.nickname || 'User'}

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
{user.nickname[0].toUpperCase()}

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
{user.nickname?.[0]?.toUpperCase() || '?'}
```

### **3. –í–ï–†–°–ò–û–ù–ù–ê–Ø –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨**
```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ tRPC
const isPending = 'isPending' in mutation ? mutation.isPending : mutation.isLoading

// –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Next.js Link
<Link href={path as any}>
```

---

## üîÑ –ü–†–û–¶–ï–°–° –í–ê–õ–ò–î–ê–¶–ò–ò –¢–ò–ü–û–í

### **–ü–ï–†–ï–î –ö–ê–ñ–î–´–ú API –í–´–ó–û–í–û–ú:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ö–µ–º—É Zod
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π response
3. –°—Ä–∞–≤–Ω–∏—Ç—å —Ç–∏–ø—ã
4. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

### **–ü–ï–†–ï–î –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï–ú –î–ê–ù–ù–´–•:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ null/undefined
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø (string vs number)
3. –î–æ–±–∞–≤–∏—Ç—å fallback –∑–Ω–∞—á–µ–Ω–∏—è
4. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

---

## üö´ –ê–ù–¢–ò–ü–ê–¢–¢–ï–†–ù–´

### **–ù–ï –î–ï–õ–ê–¢–¨:**
```typescript
// ‚ùå –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞—Ç—å —Ç–∏–ø –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏
const price: number = post.price

// ‚ùå –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å nullable
<img alt={user.nickname} />

// ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å any –¥–ª—è –æ–±—Ö–æ–¥–∞
setData(response as any)

// ‚ùå –°–º–µ—à–∏–≤–∞—Ç—å –≤–µ—Ä—Å–∏–∏ API
mutation.isLoading // –≤ tRPC 11+
```

### **–î–ï–õ–ê–¢–¨:**
```typescript
// ‚úÖ –Ø–≤–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
const price = typeof post.price === 'string' ? parseFloat(post.price) : post.price

// ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç null
<img alt={user.nickname || 'User'} />

// ‚úÖ –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ
setData(response as CommentData[])

// ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–Ω–æ-–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–¥
mutation.isPending
```

---

## üìã –ß–ï–ö–õ–ò–°–¢ –¢–ò–ü–û–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

### **–ü–µ—Ä–µ–¥ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ–º –∫–æ–¥–∞:**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø –≤ –ë–î —á–µ—Ä–µ–∑ psql
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å runtime —Ç–∏–ø —á–µ—Ä–µ–∑ curl
- [ ] –ù–∞–π—Ç–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∏–ø—ã —á–µ—Ä–µ–∑ grep
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- [ ] –ü—Ä–æ—á–∏—Ç–∞—Ç—å changelog –Ω–∞ breaking changes

### **–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫–æ–¥–∞:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞—Ö
- [ ] –ó–∞—â–∏—Ç–∏—Ç—å –æ—Ç null –∑–Ω–∞—á–µ–Ω–∏–π
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–≥–∏–µ —Ç–∏–ø—ã (–Ω–µ any)
- [ ] –î–æ–±–∞–≤–∏—Ç—å runtime –ø—Ä–æ–≤–µ—Ä–∫–∏
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø–æ–≤—ã–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

### **–ü–æ—Å–ª–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞:**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–±–æ—Ä–∫—É TypeScript
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å runtime –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ any
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É edge cases
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

---

## üéØ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –¢–û–ß–ö–ò –ü–†–û–í–ï–†–ö–ò

### **1. –°–•–ï–ú–ê –ë–î ‚Üí DRIZZLE**
- decimal –ø–æ–ª—è (price, amount)
- timestamp –ø–æ–ª—è (createdAt, updatedAt)
- json –ø–æ–ª—è (metadata, tags)
- nullable foreign keys

### **2. API ‚Üí FRONTEND**
- –§–æ—Ä–º–∞—Ç –¥–∞—Ç (Date vs string)
- –ß–∏—Å–ª–æ–≤—ã–µ –ø–æ–ª—è (number vs string)
- –ú–∞—Å—Å–∏–≤—ã (array vs JSON string)
- –í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (relations)

### **3. –ë–ò–ë–õ–ò–û–¢–ï–ö–ò**
- tRPC query/mutation API
- Next.js –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- Wallet adapter hooks
- Zod —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏

---

**üî¥ –ì–õ–ê–í–ù–û–ï –ü–†–ê–í–ò–õ–û: –ù–µ –¥–æ–≤–µ—Ä—è—Ç—å —Ç–∏–ø–∞–º - –ø—Ä–æ–≤–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ!** 