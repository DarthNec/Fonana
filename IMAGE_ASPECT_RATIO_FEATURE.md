# Image Aspect Ratio Feature

## Обзор
Добавлена поддержка различных соотношений сторон для изображений в постах. Теперь при создании или редактировании поста можно выбрать один из трех форматов:
- **Вертикальный (Portrait)** - 3:4
- **Квадратный (Square)** - 1:1
- **Горизонтальный (Landscape)** - 16:9

## Как это работает

### 1. При создании/редактировании поста
- При загрузке изображения открывается модальное окно кропа (ImageCropModal)
- Пользователь может выбрать одно из трех соотношений сторон
- После применения кропа, соотношение сторон сохраняется в поле `imageAspectRatio`

### 2. Хранение данных
- В базе данных добавлено поле `imageAspectRatio` типа String
- Возможные значения: 'vertical', 'square', 'horizontal'
- По умолчанию: null (для старых постов)

### 3. Отображение в карточке поста
- PostCard автоматически применяет соответствующий класс Tailwind CSS:
  - `aspect-3/4` для вертикальных изображений
  - `aspect-square` для квадратных изображений
  - `aspect-video` для горизонтальных изображений

## Технические детали

### Изменения в коде:
1. **tailwind.config.js** - добавлены кастомные соотношения сторон:
   ```javascript
   aspectRatio: {
     '3/4': '3 / 4',
     '4/3': '4 / 3',
   }
   ```

2. **components/PostCard.tsx** - обновлена логика отображения:
   ```typescript
   className={`... ${
     imageAspectRatio === 'vertical' 
       ? 'aspect-3/4' 
       : imageAspectRatio === 'horizontal' 
       ? 'aspect-video' 
       : 'aspect-square'
   }`}
   ```

3. **app/feed/page.tsx** - добавлена передача imageAspectRatio в PostCard

### База данных:
- Миграция: `20250620201243_add_image_aspect_ratio`
- Поле: `imageAspectRatio String?`

## Совместимость
- Старые посты без imageAspectRatio отображаются как квадратные (aspect-square)
- Функция полностью обратно совместима

## Развертывание
Изменения развернуты на продакшн 20 июня 2025 г. 