#!/bin/bash

echo "üîç –ü–û–õ–ù–´–ô –ß–ï–ö–õ–ò–°–¢ –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò –°–ï–†–í–ï–†–ê FONANA"
echo "============================================="
echo ""
echo "–°–µ—Ä–≤–µ—Ä: 69.10.59.234:43988"
echo "–î–æ–º–µ–Ω: https://fonana.me"
echo ""

echo "üìã –ß–ï–ö–õ–ò–°–¢:"
echo ""

echo "1. –ü–†–û–í–ï–†–ö–ê –°–¢–†–£–ö–¢–£–†–´ –ü–†–û–ï–ö–¢–ê"
echo "   ‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞–ø–∫—É /var/www/fonana"
echo "   ‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ .next –ø–∞–ø–∫–∏"
echo "   ‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å node_modules"
echo "   ‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å package.json"
echo "   ‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .env —Ñ–∞–π–ª—ã"
echo ""

echo "2. –ü–†–û–í–ï–†–ö–ê –ü–†–û–¶–ï–°–°–û–í"
echo "   ‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ Node.js –ø—Ä–æ—Ü–µ—Å—Å—ã"
echo "   ‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç 3001" 
echo "   ‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å systemd —Å–µ—Ä–≤–∏—Å fonana"
echo "   ‚ñ° –£–±–∏—Ç—å —Å—Ç–∞—Ä—ã–µ/–∑–∞–≤–∏—Å—à–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã"
echo ""

echo "3. –ü–†–û–í–ï–†–ö–ê NGINX"
echo "   ‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é nginx"
echo "   ‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É—Ç–∏ –∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º —Ñ–∞–π–ª–∞–º"
echo "   ‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã"
echo "   ‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø–æ—Ä—Ç 3001"
echo ""

echo "4. –ü–†–û–í–ï–†–ö–ê –°–ë–û–†–ö–ò"
echo "   ‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ö–µ—à–∏ —Ñ–∞–π–ª–æ–≤ –≤ .next/static"
echo "   ‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ö–µ—à–µ–π –≤ HTML"
echo "   ‚ñ° –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –µ—Å–ª–∏ –Ω—É–∂–Ω–æ"
echo "   ‚ñ° –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ"
echo ""

echo "5. –ü–†–û–í–ï–†–ö–ê –î–û–°–¢–£–ü–ù–û–°–¢–ò"
echo "   ‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å https://fonana.me"
echo "   ‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã"
echo "   ‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏"
echo "   ‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏"
echo ""

echo "============================================="
echo ""
echo "–ö–û–ú–ê–ù–î–´ –î–õ–Ø –ü–†–û–í–ï–†–ö–ò:"
echo ""

echo "# 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É"
echo "ssh -p 43988 root@69.10.59.234"
echo ""

echo "# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã"
echo "ls -la /var/www/"
echo "ls -la /var/www/fonana/"
echo "ls -la /var/www/fonana/.next/static/chunks/ | head"
echo ""

echo "# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤"
echo "ps aux | grep node"
echo "lsof -i :3001"
echo "systemctl status fonana"
echo ""

echo "# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ nginx"
echo "cat /etc/nginx/sites-available/fonana | grep -E '(alias|root|proxy_pass)'"
echo "nginx -t"
echo ""

echo "# 5. –õ–æ–≥–∏"
echo "tail -f /var/www/fonana/app.log"
echo "journalctl -u fonana -f"
echo ""

echo "# 6. –û—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫"
echo "pkill -9 -f node"
echo "cd /var/www/fonana"
echo "rm -rf .next/cache .next/server"
echo "npm run build"
echo "PORT=3001 npm start" 