# Система отображения заработков авторов

## Обзор
Теперь на странице `/creators` отображаются реальные заработки авторов за последние 30 дней вместо моковых данных.

## Как это работает

### 1. API endpoint `/api/creators`
- Для каждого автора вычисляет сумму всех подтвержденных транзакций за последние 30 дней
- Учитывает только транзакции со статусом `CONFIRMED` где автор является получателем (`toWallet`)
- Форматирует результат в виде строки `"X.XX SOL"` или `"0 SOL"`

### 2. Типы транзакций
Система учитывает все типы доходов:
- **SUBSCRIPTION** - платежи за подписки
- **POST_PURCHASE** - платежи за отдельные посты
- **REFERRER_FEE** - реферальные комиссии (если есть)

### 3. Отображение на карточках
В компоненте `CreatorsExplorer` поле "Monthly earnings" теперь показывает:
- Реальную сумму заработков в SOL за последние 30 дней
- "0 SOL" если у автора нет заработков

## Примеры текущих заработков на продакшене

По состоянию на 15 июня 2025:
- **yourdad**: 0.57 SOL (4 подписки + 2 покупки постов)
- **BettyPoop**: 0.15 SOL (1 подписка)
- **RestomodCars**: 0.05 SOL (1 подписка)
- Остальные авторы: 0 SOL

## Полезные скрипты

### Проверка заработков всех авторов
```bash
node scripts/check-creator-earnings.js
```

Этот скрипт покажет:
- Детальную информацию о заработках каждого автора
- Разбивку по типам транзакций
- Общую статистику платформы

## Будущие улучшения
1. Добавить фильтры по периодам (7 дней, 30 дней, все время)
2. Показывать графики заработков в профиле автора
3. Добавить экспорт отчетов о заработках
4. Реализовать систему вывода средств 