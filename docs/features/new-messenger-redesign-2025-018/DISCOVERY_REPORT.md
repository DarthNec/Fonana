# üîç DISCOVERY REPORT: –ù–æ–≤—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –±–µ–∑ shadcn/ui

## üìã –û–±—â–∞—è —Ü–µ–ª—å
–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ —Å –Ω—É–ª—è, –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–∞–∑–∞–≤—à–∏—Å—å –æ—Ç shadcn/ui –∏ –∏—Å–ø–æ–ª—å–∑—É—è —Ç–æ–ª—å–∫–æ —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: HTML + Tailwind + —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∞.

## üîé –ê–Ω–∞–ª–∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### ‚úÖ **–†–ê–ë–û–ß–ò–ï API ENDPOINTS:**

#### 1. **GET /api/conversations** 
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç, —Ç—Ä–µ–±—É–µ—Ç JWT —Ç–æ–∫–µ–Ω
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∏–∞–ª–æ–≥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **Response**: `{ conversations: [] }` —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: 
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç raw SQL queries –¥–ª—è –æ–±—Ö–æ–¥–∞ –ø—Ä–æ–±–ª–µ–º Prisma
  - –í–∫–ª—é—á–∞–µ—Ç unread count –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞
  - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç paid messages —Å –º–∞—Å–∫–∏—Ä–æ–≤–∫–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç–∞

#### 2. **POST /api/conversations**
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç, —Ç—Ä–µ–±—É–µ—Ç JWT —Ç–æ–∫–µ–Ω 
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞ —Å —É—á–∞—Å—Ç–Ω–∏–∫–æ–º
- **Payload**: `{ participantId: string }`
- **Response**: `{ conversation: {...} }` —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∏–∞–ª–æ–≥–∏ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º

#### 3. **GET /api/conversations/[id]/messages**
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç, —Ç—Ä–µ–±—É–µ—Ç JWT —Ç–æ–∫–µ–Ω
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ –¥–∏–∞–ª–æ–≥–∞ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- **Params**: `?before=messageId&limit=20`
- **Response**: `{ messages: [], hasMore: boolean }`
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: 
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–º–µ—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ
  - –ú–∞—Å–∫–∏—Ä—É–µ—Ç –ø–ª–∞—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –Ω–µ–æ–ø–ª–∞—Ç–∏–≤—à–∏—Ö
  - –í–∫–ª—é—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ

#### 4. **POST /api/conversations/[id]/messages** 
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç, —Ç—Ä–µ–±—É–µ—Ç JWT —Ç–æ–∫–µ–Ω
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- **Payload**: `{ content?, mediaUrl?, isPaid?, price?, metadata? }`
- **Response**: `{ message: {...} }`
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: 
  - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç, –º–µ–¥–∏–∞ –∏ –ø–ª–∞—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
  - –°–æ–∑–¥–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π
  - –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∞

#### 5. **POST /api/messages/[id]/purchase**
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç, —Ç—Ä–µ–±—É–µ—Ç JWT —Ç–æ–∫–µ–Ω
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: –ü–æ–∫—É–ø–∫–∞ –ø–ª–∞—Ç–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- **Payload**: `{ txSignature: string }`
- **Response**: `{ purchase: {...}, message: {...} }`
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –í–∞–ª–∏–¥–∞—Ü–∏—è Solana —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

### üóÉÔ∏è **–°–¢–†–£–ö–¢–£–†–ê –ë–ê–ó–´ –î–ê–ù–ù–´–•:**

#### –¢–∞–±–ª–∏—Ü–∞ `Conversation`
```sql
id            | text (PK)
lastMessageAt | timestamp
createdAt     | timestamp 
updatedAt     | timestamp
```

#### –¢–∞–±–ª–∏—Ü–∞ `Message`
```sql
id             | text (PK)
conversationId | text (FK)
senderId       | text (FK)
content        | text (nullable)
mediaUrl       | text (nullable) 
mediaType      | text (nullable)
isPaid         | boolean (default: false)
price          | double precision (nullable)
isRead         | boolean (default: false)
createdAt      | timestamp
metadata       | jsonb (nullable)
```

#### –¢–∞–±–ª–∏—Ü–∞ `MessagePurchase`
```sql
id          | text (PK)
messageId   | text (FK)
userId      | text (FK) 
amount      | double precision
txSignature | text
createdAt   | timestamp
```

#### –°–≤—è–∑—É—é—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ `_UserConversations`
```sql
A | text (conversationId)
B | text (userId)
```

### üîå **WEBSOCKET –°–ï–†–í–ï–† (PORT 3002):**

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
- **JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- **Channel-based subscriptions** (notifications, feed, creator, post)
- **Redis Pub/Sub** –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **Real-time events** –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API:
- API endpoints –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç WebSocket —Å–æ–±—ã—Ç–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ offline –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ –ë–î —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–°–¢–ê–ë–ò–õ–ò–ó–ò–†–û–í–ê–ù** 
- Auto-connect –æ—Ç–∫–ª—é—á–µ–Ω –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è infinite loops
- –í—Å–µ critical loops –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

### üéØ **–°–£–©–ï–°–¢–í–£–Æ–©–ò–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´:**

#### –†–∞–±–æ—á–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- `Navbar.tsx` - –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å –∞–≤–∞—Ç–∞—Ä–∞–º–∏
- `Avatar.tsx` - —Å–∏—Å—Ç–µ–º–∞ –∞–≤–∞—Ç–∞—Ä–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `MobileNavigationBar.tsx` - –º–æ–±–∏–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- `Button.tsx`, `Input.tsx`, `Card.tsx` - –±–∞–∑–æ–≤—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: 
- `app/messages/[id]/page.tsx` - JSX syntax errors –∏–∑-–∑–∞ shadcn
- `MessagesPageClient.tsx` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç shadcn Badge/Avatar

### üìä **–î–ê–ù–ù–´–ï –í –ë–î:**
- **Conversations**: 0 (—Ç–∞–±–ª–∏—Ü–∞ –ø—É—Å—Ç–∞—è)
- **Messages**: 3 (—Ç–µ—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è)
- **Users**: 54 (–∏–∑ –Ω–∏—Ö 52 –∫—Ä–µ–∞—Ç–æ—Ä–∞)
- **MessagePurchases**: –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ

## üî¨ **–ê–ù–ê–õ–ò–ó –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–• –ü–û–î–•–û–î–û–í**

### –ü–æ–¥—Ö–æ–¥ 1: **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞**
**–ü–ª—é—Å—ã**: –ë—ã—Å—Ç—Ä–µ–µ, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é
**–ú–∏–Ω—É—Å—ã**: –ú–æ–∂–µ—Ç –æ—Å—Ç–∞—Ç—å—Å—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥ –æ—Ç shadcn
**–û—Ü–µ–Ω–∫–∞**: ‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –ü–æ–¥—Ö–æ–¥ 2: **–ü–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞ —Å –Ω—É–ª—è** ‚≠ê **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø**
**–ü–ª—é—Å—ã**: 
- –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–µ–∑ shadcn
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
- –õ—É—á—à–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∫–æ–¥–æ–º
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

**–ú–∏–Ω—É—Å—ã**: –¢—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É
**–û—Ü–µ–Ω–∫–∞**: ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –ü–æ–¥—Ö–æ–¥ 3: **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥**
**–ü–ª—é—Å—ã**: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —á–∞—Å—Ç–∏ API
**–ú–∏–Ω—É—Å—ã**: –°–ª–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏, –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã
**–û—Ü–µ–Ω–∫–∞**: ‚ö†Ô∏è –ù–µ –Ω—É–∂–µ–Ω, API —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ

## üìù **–õ–£–ß–®–ò–ï –ü–†–ê–ö–¢–ò–ö–ò –í–´–Ø–í–õ–ï–ù–ù–´–ï:**

### 1. **HTML + Tailwind –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**
```jsx
// –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –∫–Ω–æ–ø–æ–∫
<button className="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-md transition-colors">
  –û—Ç–ø—Ä–∞–≤–∏—Ç—å
</button>

// –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫  
<div className="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700">
  {content}
</div>
```

### 2. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ JWT:**
```javascript
// –ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤
const response = await fetch('/api/conversations', {
  headers: {
    'Authorization': `Bearer ${token}`,
    'Content-Type': 'application/json'
  }
})
```

### 3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
```javascript
// Defensive programming –ø–∞—Ç—Ç–µ—Ä–Ω
const conversations = response.ok ? await response.json() : { conversations: [] }
```

### 4. **Mobile-first –¥–∏–∑–∞–π–Ω:**
```jsx
// –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã Tailwind
<div className="px-4 sm:px-6 lg:px-8">
  {/* mobile ‚Üí tablet ‚Üí desktop */}
</div>
```

## üõ†Ô∏è **–¢–ï–•–ù–û–õ–û–ì–ò–ß–ï–°–ö–ò–ô –°–¢–ï–ö:**

### ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- **React 18** —Å —Ö—É–∫–∞–º–∏
- **Next.js 14** App Router
- **TypeScript** –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **Tailwind CSS** –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
- **Heroicons** –¥–ª—è –∏–∫–æ–Ω–æ–∫
- **–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ hooks**: `useUser`, `useWalletAuth`
- **Prisma** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î

### ‚ùå **–ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- **shadcn/ui** - –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–æ–±–ª–µ–º
- **–õ—é–±—ã–µ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∏** - –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã  
- **CSS-in-JS** - –Ω–µ –Ω—É–∂–Ω–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ Tailwind

## üé® **–î–ò–ó–ê–ô–ù –†–ï–§–ï–†–ï–ù–°–´:**

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø—Ä–∏–º–µ—Ä—ã:
- **Dashboard** - –æ—Ç–ª–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ UI
- **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** - —Ö–æ—Ä–æ—à–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –∫–∞—Ä—Ç–æ—á–µ–∫
- **Navbar** - –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è

### –í–Ω–µ—à–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—ã:
- **Telegram Web** - —á–∏—Å—Ç—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞
- **Discord** - —Ö–æ—Ä–æ—à–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–∞–Ω–∞–ª–æ–≤
- **WhatsApp Web** - –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

## üîß **–ü–†–û–¢–û–¢–ò–ü–ò–†–û–í–ê–ù–ò–ï:**

### –ü—Ä–æ—Ç–æ—Ç–∏–ø 1: **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä**
```jsx
// –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
function Messenger() {
  return (
    <div className="flex h-screen">
      <ConversationsList />
      <ChatArea />
    </div>
  )
}
```

### –ü—Ä–æ—Ç–æ—Ç–∏–ø 2: **–ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è**
```jsx
// –û–¥–Ω–æ–∫–æ–ª–æ–Ω–æ—á–Ω—ã–π layout –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
function MobileMessenger() {
  const [showChat, setShowChat] = useState(false)
  
  return (
    <div className="h-screen">
      {showChat ? <ChatArea /> : <ConversationsList />}
    </div>
  )
}
```

### –ü—Ä–æ—Ç–æ—Ç–∏–ø 3: **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º**
```jsx
// React hooks –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
function useMessenger() {
  const [conversations, setConversations] = useState([])
  const [activeConversation, setActiveConversation] = useState(null)
  const [messages, setMessages] = useState([])
  
  // CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏...
}
```

## üìà **–ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê:**

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ:
- ‚úÖ 0 shadcn –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ TypeScript coverage 100%
- ‚úÖ Mobile responsive
- ‚úÖ <200ms API response –≤—Ä–µ–º—è
- ‚úÖ Real-time messaging —Ä–∞–±–æ—Ç–∞–µ—Ç

### UX –º–µ—Ç—Ä–∏–∫–∏:
- ‚úÖ Intuitive –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∏–∞–ª–æ–≥–æ–≤
- ‚úÖ Seamless –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ Proper error handling

## ‚ö†Ô∏è **–í–´–Ø–í–õ–ï–ù–ù–´–ï –†–ò–°–ö–ò:**

### üî¥ **Critical:**
- **JWT —Ç–æ–∫–µ–Ω** - –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –≤—Å–µ—Ö API calls
- **Prisma –º–æ–¥–µ–ª—å naming** - Message/Conversation —Å –∑–∞–≥–ª–∞–≤–Ω—ã—Ö –±—É–∫–≤
- **WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** - —Ç—Ä–µ–±—É–µ—Ç proper error handling

### üü° **Major:**
- **Mobile optimization** - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- **Performance** - –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- **Accessibility** - —Ç—Ä–µ–±—É–µ—Ç ARIA labels

### üü¢ **Minor:**
- **Dark mode** - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ existing context
- **Internationalization** - –ø–æ–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

## üéØ **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**

1. **Architecture Context** - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
2. **Solution Plan** - –ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
3. **Impact Analysis** - –æ—Ü–µ–Ω–∫–∞ –≤–ª–∏—è–Ω–∏—è –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å–∏—Å—Ç–µ–º—É
4. **Implementation Simulation** - –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
5. **Risk Mitigation** - –ø–ª–∞–Ω—ã —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–∏—Å–∫–æ–≤
6. **Implementation** - —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤–æ–≥–æ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞
7. **Implementation Report** - —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏

---

**‚úÖ Discovery Phase –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ.**
**üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ü—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ Architecture Context –∞–Ω–∞–ª–∏–∑—É.** 