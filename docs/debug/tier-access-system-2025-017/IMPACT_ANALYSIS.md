# üîç –ê–ù–ê–õ–ò–ó –í–õ–ò–Ø–ù–ò–Ø - –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É
**ID**: [content_access_system_2025_017]  
**–î–∞—Ç–∞**: 17.07.2025  
**–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è**: M7

## üìä –û–ë–õ–ê–°–¢–ò –í–õ–ò–Ø–ù–ò–Ø

### 1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** ‚úÖ –ú–ò–ù–ò–ú–ê–õ–¨–ù–û–ï
- –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
- –ù–µ—Ç –Ω–æ–≤—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π
- –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ö–µ–º—ã

### 2. **API** ‚ö†Ô∏è –°–†–ï–î–ù–ï–ï
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ checkPostAccess
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ shouldBlur —Ñ–ª–∞–≥–∞
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ response —Å upgradePrompt

### 3. **Frontend** üî¥ –í–´–°–û–ö–û–ï
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ PostCard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –ù–æ–≤—ã–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
- Blur —ç—Ñ—Ñ–µ–∫—Ç—ã –∏ overlay
- Upgrade –ø—Ä–æ–º–ø—Ç—ã

### 4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚úÖ –ú–ò–ù–ò–ú–ê–õ–¨–ù–û–ï
- CSS —Å—Ç–∏–ª–∏ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- Blur —á–µ—Ä–µ–∑ CSS (GPU –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω)
- –ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## üîÑ –ò–ó–ú–ï–ù–ï–ù–ò–Ø –ü–û –ö–û–ú–ü–û–ù–ï–ù–¢–ê–ú

### **lib/utils/access.ts**
```typescript
// BEFORE
interface PostAccessResult {
  hasAccess: boolean
  isCreatorPost: boolean
  requiredTier: TierName | null
  userTier: TierName | null
}

// AFTER
interface PostAccessResult {
  hasAccess: boolean
  isCreatorPost: boolean
  requiredTier: TierName | null
  userTier: TierName | null
  shouldBlur: boolean // NEW
  upgradePrompt?: string // NEW
  accessType: PostAccessType // NEW
}
```

### **components/PostCard.tsx**
```tsx
// –î–û–ë–ê–í–õ–Ø–ï–¢–°–Ø:
- –ò–º–ø–æ—Ä—Ç TIER_VISUAL_DETAILS, TIER_BLUR_STYLES
- –§—É–Ω–∫—Ü–∏—è getTierCardStyles()
- Blur overlay —Å upgrade –ø—Ä–æ–º–ø—Ç–æ–º
- SOLD –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –¥–ª—è sellable
- –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
```

### **lib/constants/tier-styles.ts**
```typescript
// –î–û–ë–ê–í–õ–Ø–ï–¢–°–Ø:
export const TIER_BLUR_STYLES = {
  backdrop: 'backdrop-blur-md',
  overlay: 'bg-white/80 dark:bg-slate-900/80',
  content: 'opacity-30'
}

export const TIER_UPGRADE_PROMPTS = {
  basic: 'Upgrade to Basic to unlock',
  premium: 'Upgrade to Premium for exclusive access',
  vip: 'Join VIP for ultimate experience',
  paid: 'Purchase to unlock this content'
}
```

## üìà –ú–ï–¢–†–ò–ö–ò –í–õ–ò–Ø–ù–ò–Ø

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç:
- **+90%** –í–∏–∑—É–∞–ª—å–Ω–∞—è —è—Å–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **+80%** –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –¥–ª—è –¥–æ—Å—Ç—É–ø–∞
- **+70%** –ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ upgrade (–æ–∂–∏–¥–∞–µ–º–∞—è)

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏:
- **+0ms** –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ (CSS only)
- **+2KB** –†–∞–∑–º–µ—Ä bundle (–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã)
- **0** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö API –≤—ã–∑–æ–≤–æ–≤

### –ë–∏–∑–Ω–µ—Å –º–µ—Ç—Ä–∏–∫–∏:
- **‚Üë** –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ clear CTAs
- **‚Üë** –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–∏—Ä–æ–≤
- **‚Üë** –ñ–µ–ª–∞–Ω–∏–µ –∞–ø–≥—Ä–µ–π–¥–∞ –ø–æ–¥–ø–∏—Å–∫–∏

## ‚ö†Ô∏è –†–ò–°–ö–ò –ò –ú–ò–¢–ò–ì–ê–¶–ò–Ø

### –†–∏—Å–∫ 1: Blur –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: CSS backdrop-filter —Å fallback –Ω–∞ opacity

### –†–∏—Å–∫ 2: –°–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: Subtle –¥–∏–∑–∞–π–Ω, –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—â–∏–π preview

### –†–∏—Å–∫ 3: –ü—É—Ç–∞–Ω–∏—Ü–∞ –º–µ–∂–¥—É paid –∏ sellable
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –ß–µ—Ç–∫–∏–µ –∏–∫–æ–Ω–∫–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è

## üîÑ –û–ë–†–ê–¢–ù–ê–Ø –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ:
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- API response —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è, –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è
- –°—Ç–∞—Ä—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç –Ω–æ–≤—ã–µ –ø–æ–ª—è

### ‚ö†Ô∏è –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- –ü–æ—Å—Ç—ã —Å —Ç–∏—Ä–∞–º–∏ –ø–æ–ª—É—á–∞—Ç —Ä–∞–º–∫–∏/—Ñ–æ–Ω—ã
- –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç —Ä–∞–∑–º—ã—Ç
- –ü–æ—è–≤—è—Ç—Å—è upgrade –ø—Ä–æ–º–ø—Ç—ã

## üìã –ß–ï–ö–õ–ò–°–¢ –ì–û–¢–û–í–ù–û–°–¢–ò

### –ö–æ–¥ –≥–æ—Ç–æ–≤:
- [x] TIER_VISUAL_DETAILS —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [x] checkPostAccess —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] PostCard –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ç–∏–ª–∏
- [x] –¢–∏–ø—ã –¥–æ—Å—Ç—É–ø–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã

### –¢—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
- [ ] shouldBlur –ª–æ–≥–∏–∫–∞ –≤ checkPostAccess
- [ ] upgradePrompt –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- [ ] Blur overlay –≤ PostCard
- [ ] SOLD –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä

## üöÄ –í–´–í–û–î

–ò–∑–º–µ–Ω–µ–Ω–∏—è **–±–µ–∑–æ–ø–∞—Å–Ω—ã** –∏ **–æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã**. –û—Å–Ω–æ–≤–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ **–≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å–ª–æ–π**, —á—Ç–æ —É–ª—É—á—à–∏—Ç UX –∏ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—é. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏ **–º–∏–Ω–∏–º–∞–ª—å–Ω—ã**, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å **–Ω–µ –ø–æ—Å—Ç—Ä–∞–¥–∞–µ—Ç**.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: PROCEED ‚úÖ 