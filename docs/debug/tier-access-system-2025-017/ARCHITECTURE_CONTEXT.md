# üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ô –ö–û–ù–¢–ï–ö–°–¢ - –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É
**ID**: [content_access_system_2025_017]  
**–î–∞—Ç–∞**: 17.07.2025  
**–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è**: M7

## üìä –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï –°–ò–°–¢–ï–ú–´

### ‚úÖ –ß—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. **4-tier —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫** (Free/Basic/Premium/VIP)
   - –ò–µ—Ä–∞—Ä—Ö–∏—è –¥–æ—Å—Ç—É–ø–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
   - –ê–≤—Ç–æ—Ä –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏—Ç —Å–≤–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç
   - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (TierBadge, PostTierBadge)
   - –°—Ç–∏–ª–∏ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (tier-styles.ts)

2. **–ü–ª–∞—Ç–Ω—ã–µ –ø–æ—Å—Ç—ã** (Paid posts)
   - –ï–¥–∏–Ω–æ—Ä–∞–∑–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞ –∑–∞ –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É
   - –ò—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ–ª–µ `price` –¥–ª—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–∞
   - –°–æ–∑–¥–∞—é—Ç –∑–∞–ø–∏—Å—å PostPurchase –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ

3. **Sellable –ø–æ—Å—Ç—ã** (—Ç–æ–≤–∞—Ä—ã)
   - –ü—Ä–æ–¥–∞–∂–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö/—Ü–∏—Ñ—Ä–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
   - –ù–µ –≤–ª–∏—è—é—Ç –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É
   - –ü–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ –ø—Ä–æ–¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏

### ‚ùå –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é:
1. **–í–∏–∑—É–∞–ª—å–Ω–∞—è –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞—Ü–∏—è** —Ç–∏—Ä–æ–≤ –≤ –ª–µ–Ω—Ç–µ
   - –†–∞–º–∫–∏ –∏ —Ñ–æ–Ω–æ–≤—ã–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã –¥–ª—è —Ç–∏—Ä–æ–≤
   - Blur —ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   - –°–æ–æ–±—â–µ–Ω–∏—è —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –∞–ø–≥—Ä–µ–π–¥–∞

2. **–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–æ—Å—Ç—É–ø–∞**
   - Sellable + tier-based –∫–æ–Ω—Ç–µ–Ω—Ç
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤

3. **UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö**
   - –ë–µ–π–¥–∂–∏ —Ç–∏—Ä–æ–≤ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã "SOLD" –¥–ª—è –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
   - –†–∞–∑–ª–∏—á–∏–µ –º–µ–∂–¥—É paid –∏ sellable –ø–æ—Å—Ç–∞–º–∏

## üîç –ê–ù–ê–õ–ò–ó –°–£–©–ï–°–¢–í–£–Æ–©–ï–ì–û –ö–û–î–ê

### –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
1. **lib/constants/tier-styles.ts** - –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
   ```typescript
   TIER_VISUAL_DETAILS: {
     free: { gradient, border, text, dot }
     basic: { gradient, border, text, dot }
     premium: { gradient, border, text, dot }
     vip: { gradient, border, text, dot }
   }
   ```

2. **components/posts/utils/postHelpers.ts** - —Ñ—É–Ω–∫—Ü–∏–∏ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
   - `getPostCardBackgroundStyle()` - —Ñ–æ–Ω–æ–≤—ã–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã
   - `getPostCardBorderStyle()` - —Å—Ç–∏–ª–∏ –≥—Ä–∞–Ω–∏—Ü
   - `getPostCardGlowStyle()` - —ç—Ñ—Ñ–µ–∫—Ç—ã —Å–≤–µ—á–µ–Ω–∏—è

3. **lib/utils/access.ts** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞
   - `checkPostAccess()` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–æ—Å—Ç—É–ø–∞
   - `hasAccessToTier()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–µ—Ä–∞—Ä—Ö–∏–∏ —Ç–∏—Ä–æ–≤

### –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–°–º–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π –≤ –ë–î**:
   ```prisma
   price Float?  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ò –¥–ª—è paid posts –ò –¥–ª—è sellable
   isLocked Boolean  // –î—É–±–ª–∏—Ä—É–µ—Ç –ª–æ–≥–∏–∫—É —Å minSubscriptionTier
   isPremium Boolean  // Legacy –ø–æ–ª–µ
   ```

2. **–ù–µ–ø–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è**:
   - –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –µ–¥–∏–Ω—ã–π enum –¥–ª—è —Ç–∏–ø–æ–≤ –¥–æ—Å—Ç—É–ø–∞
   - –ù–µ—Ç —á–µ—Ç–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –º–µ–∂–¥—É access –∏ commerce

3. **UI –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
   - PostCard –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –≤—Å–µ —Å—Ç–∏–ª–∏ –∏–∑ tier-styles
   - –ù–µ—Ç blur —ç—Ñ—Ñ–µ–∫—Ç–∞ –¥–ª—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   - –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç upgrade –ø—Ä–æ–º–ø—Ç—ã

## üéØ –¶–ï–õ–ò –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø

### 1. –í–∏–∑—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:
- **–†–∞–º–∫–∏ —Ç–∏—Ä–æ–≤**: –∫–∞–∂–¥—ã–π —Ç–∏—Ä –∏–º–µ–µ—Ç —Å–≤–æ–π —Ü–≤–µ—Ç –≥—Ä–∞–Ω–∏—Ü—ã
- **–§–æ–Ω–æ–≤—ã–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã**: subtle –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –ø–æ —Ç–∏—Ä—É
- **Blur —ç—Ñ—Ñ–µ–∫—Ç**: —Ä–∞–∑–º—ã—Ç–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **Upgrade –ø—Ä–æ–º–ø—Ç—ã**: "Upgrade to Premium to unlock"

### 2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:
- **6 —Ç–∏–ø–æ–≤ –¥–æ—Å—Ç—É–ø–∞**: Free, Basic, Premium, VIP, Paid, Sellable
- **–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: Sellable + –ª—é–±–æ–π —Ç–∏–ø –¥–æ—Å—Ç—É–ø–∞
- **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è**: –≤—ã—Å—à–∏–µ —Ç–∏—Ä—ã –≤–∏–¥—è—Ç –Ω–∏–∑—à–∏–µ

### 3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
- **–ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤**: —á–µ—Ç–∫–∏–µ enums –∏ interfaces
- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∏–ª–µ–π**: –∏–∑ tier-styles.ts
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ë–î**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è

## üìê –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –†–ï–®–ï–ù–ò–Ø

### 1. –¢–∏–ø–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã:
```typescript
enum PostAccessType {
  FREE = 'free',
  BASIC = 'basic',
  PREMIUM = 'premium', 
  VIP = 'vip',
  PAID = 'paid'
}

interface PostAccess {
  type: PostAccessType
  tier?: TierName
  price?: number
  hasAccess: boolean
  isCreatorPost: boolean
  shouldBlur: boolean
  upgradePrompt?: string
}
```

### 2. –í–∏–∑—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å TIER_VISUAL_DETAILS –¥–ª—è –≤—Å–µ—Ö UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ü—Ä–∏–º–µ–Ω–∏—Ç—å blur —á–µ—Ä–µ–∑ CSS backdrop-filter
- –î–æ–±–∞–≤–∏—Ç—å upgrade –ø—Ä–æ–º–ø—Ç—ã –≤ PostCard

### 3. –õ–æ–≥–∏–∫–∞ –¥–æ—Å—Ç—É–ø–∞:
- –†–∞—Å—à–∏—Ä–∏—Ç—å checkPostAccess() –¥–ª—è –≤—Å–µ—Ö 6 —Ç–∏–ø–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å shouldBlur —Ñ–ª–∞–≥
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å upgradePrompt —Å–æ–æ–±—â–µ–Ω–∏—è

## üöÄ –ü–õ–ê–ù –í–ù–ï–î–†–ï–ù–ò–Ø

### Phase 1: –¢–∏–ø–∏–∑–∞—Ü–∏—è –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (15 –º–∏–Ω)
- –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—ã–µ —Ç–∏–ø—ã –∏ enums
- –†–∞—Å—à–∏—Ä–∏—Ç—å tier-styles —Å blur —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
- –î–æ–±–∞–≤–∏—Ç—å upgrade –ø—Ä–æ–º–ø—Ç—ã

### Phase 2: –õ–æ–≥–∏–∫–∞ –¥–æ—Å—Ç—É–ø–∞ (20 –º–∏–Ω)
- –û–±–Ω–æ–≤–∏—Ç—å checkPostAccess –¥–ª—è 6 —Ç–∏–ø–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å shouldBlur –ª–æ–≥–∏–∫—É
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å PostCard

### Phase 3: UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (25 –º–∏–Ω)
- –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ç–∏–ª–∏ –∏–∑ tier-styles
- –î–æ–±–∞–≤–∏—Ç—å blur —ç—Ñ—Ñ–µ–∫—Ç
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å upgrade –ø—Ä–æ–º–ø—Ç—ã
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä SOLD –¥–ª—è sellable

### Phase 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (10 –º–∏–Ω)
- –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç—ã –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—É—é –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞—Ü–∏—é
- –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –¥–æ—Å—Ç—É–ø–∞

**–û–±—â–µ–µ –≤—Ä–µ–º—è**: ~1 —á–∞—Å 10 –º–∏–Ω—É—Ç 