# TEST_SCENARIOS: Tier Access System Validation
## ID: [tier_access_logic_fix_2025_017]

## 1. ТЕСТОВЫЕ СЦЕНАРИИ

### Сценарий 1: Неавторизованный пользователь ✅
**Ожидание**: Видит только FREE контент
- FREE посты: ✅ Доступны
- BASIC посты: ✅ Размыты с промптом "Subscribe to Basic"
- PREMIUM посты: ✅ Размыты с промптом "Subscribe to Premium"
- VIP посты: ✅ Размыты с промптом "Subscribe to VIP"
- PAID посты: ✅ Размыты с промптом "Purchase to unlock"
- SELLABLE посты: ✅ Доступны (контент виден, но товар для продажи)

### Сценарий 2: Пользователь с Basic подпиской
**Ожидание**: Видит FREE + BASIC контент
- FREE посты: Должны быть доступны
- BASIC посты: Должны быть доступны
- PREMIUM посты: Размыты с промптом "Upgrade to Premium"
- VIP посты: Размыты с промптом "Upgrade to VIP"
- PAID посты: Размыты с промптом "Purchase to unlock"
- SELLABLE посты: Доступны

### Сценарий 3: Пользователь с Premium подпиской
**Ожидание**: Видит FREE + BASIC + PREMIUM контент
- FREE посты: Должны быть доступны
- BASIC посты: Должны быть доступны
- PREMIUM посты: Должны быть доступны
- VIP посты: Размыты с промптом "Upgrade to VIP"
- PAID посты: Размыты с промптом "Purchase to unlock"
- SELLABLE посты: Доступны

### Сценарий 4: Пользователь с VIP подпиской
**Ожидание**: Видит весь контент по подписке
- FREE посты: Должны быть доступны
- BASIC посты: Должны быть доступны
- PREMIUM посты: Должны быть доступны
- VIP посты: Должны быть доступны
- PAID посты: Размыты с промптом "Purchase to unlock" (требуют отдельной оплаты)
- SELLABLE посты: Доступны

### Сценарий 5: Автор контента
**Ожидание**: Видит весь свой контент без ограничений
- Все собственные посты должны быть доступны независимо от тира или цены

## 2. ПРОВЕРКА ЛОГИКИ hasAccessToTier

Функция должна возвращать true когда:
- userTier >= requiredTier в иерархии
- Где иерархия: free(1) < basic(2) < premium(3) < vip(4)

Примеры:
- hasAccessToTier('vip', 'basic') = true (4 >= 2)
- hasAccessToTier('basic', 'premium') = false (2 < 3)
- hasAccessToTier('premium', 'premium') = true (3 >= 3)
- hasAccessToTier(null, 'basic') = false (нет подписки)

## 3. ТЕКУЩИЙ СТАТУС

✅ Сценарий 1 (неавторизованный) - ПРОВЕРЕН И РАБОТАЕТ
⏳ Сценарий 2-4 (с подписками) - ТРЕБУЕТ ПРОВЕРКИ
⏳ Сценарий 5 (автор) - ТРЕБУЕТ ПРОВЕРКИ

## 4. СЛЕДУЮЩИЕ ШАГИ

1. Создать тестовых пользователей с разными тирами подписок
2. Проверить каждый сценарий через Playwright MCP
3. Убедиться что иерархия доступа работает корректно
4. Проверить edge cases (истекшие подписки, смена тира) 