# –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: –¶–µ–Ω–∞, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –≤–µ—Ä—Å–∏–∏

**–î–∞—Ç–∞**: 01.07.2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û –ò –ì–û–¢–û–í–û –ö –î–ï–ü–õ–û–Æ

## üìã –†–µ–∑—é–º–µ –ø—Ä–æ–±–ª–µ–º

1. **–¶–µ–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ 0** –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ –ø—Ä–æ–¥–∞–≤–∞–µ–º—ã—Ö –ø–æ—Å—Ç–æ–≤ (–≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä 0.05 SOL)
2. **"Canvas is empty"** - –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –∫—Ä–æ–ø–∞
3. **–°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è —Å–∞–π—Ç–∞** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

## üîß –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–µ—Ä–µ–¥–∞—á–µ–π —Ü–µ–Ω—ã ‚úÖ

#### –§–∞–π–ª: `app/feed/page.tsx`
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –¥–µ–π—Å—Ç–≤–∏—è 'bid' —Ü–µ–Ω–∞ –Ω–µ –∏–∑–≤–ª–µ–∫–∞–ª–∞—Å—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –∞—É–∫—Ü–∏–æ–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤.

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ü–µ–Ω—ã:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `post.access?.price` –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–ª–∞—Ç–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ü–µ–Ω—ã –¥–ª—è –ø—Ä–æ–¥–∞–≤–∞–µ–º—ã—Ö –ø–æ—Å—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `auctionCurrentBid` –∏–ª–∏ `auctionStartPrice` –¥–ª—è –∞—É–∫—Ü–∏–æ–Ω–æ–≤
- –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ

#### –§–∞–π–ª: `services/posts/normalizer.ts`
**–ü—Ä–æ–±–ª–µ–º–∞**: –¶–µ–Ω–∞ –∞—É–∫—Ü–∏–æ–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ –Ω–µ –ø–æ–ø–∞–¥–∞–ª–∞ –≤ `access.price` –ø—Ä–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏.

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏:
```typescript
// –î–ª—è –∞—É–∫—Ü–∏–æ–Ω–æ–≤ –±–µ—Ä–µ–º —Ç–µ–∫—É—â—É—é —Å—Ç–∞–≤–∫—É –∏–ª–∏ —Å—Ç–∞—Ä—Ç–æ–≤—É—é —Ü–µ–Ω—É
if (rawPost.isSellable && rawPost.sellType === 'AUCTION') {
  if (rawPost.auctionCurrentBid !== undefined && rawPost.auctionCurrentBid !== null) {
    price = rawPost.auctionCurrentBid
  } else if (rawPost.auctionStartPrice !== undefined && rawPost.auctionStartPrice !== null) {
    price = rawPost.auctionStartPrice
  }
}
```

### 2. –ü—Ä–æ–±–ª–µ–º–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ ‚úÖ

#### –§–∞–π–ª: `components/CreatePostModal.tsx`
**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–∞–π–º–∞—É—Ç 150–º—Å –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–∫–∏ –∫—Ä–æ–ø–∞ —Å–æ–∑–¥–∞–≤–∞–ª race condition.

**–†–µ—à–µ–Ω–∏–µ**: –£–±—Ä–∞–Ω —Ç–∞–π–º–∞—É—Ç, –º–æ–¥–∞–ª–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

#### –§–∞–π–ª: `components/ImageCropModal.tsx`
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–ø—ã—Ç–∫–∞ –∫—Ä–æ–ø–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –µ–≥–æ –∑–∞–≥—Ä—É–∑–∫–∏.

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –∫—Ä–æ–ø–æ–º:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –æ–±–ª–∞—Å—Ç–∏ –∫—Ä–æ–ø–∞
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

### 3. –ü—Ä–æ–±–ª–µ–º–∞ —Å –≤–µ—Ä—Å–∏—è–º–∏ ‚úÖ

#### –§–∞–π–ª: `public/sw.js`
**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: Service Worker –æ–±–Ω–æ–≤–ª–µ–Ω –¥–æ –≤–µ—Ä—Å–∏–∏ v7 —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º –º–µ—Ö–∞–Ω–∏–∑–º–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

#### –§–∞–π–ª: `public/force-refresh.js`
**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å –¥–∞—Ç–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–µ—à–∞.

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç 1: –ü–µ—Ä–µ–¥–∞—á–∞ —Ü–µ–Ω—ã
- ‚úÖ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–≤–∞–µ–º—ã—Ö –ø–æ—Å—Ç–æ–≤ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤–∞—è —Ü–µ–Ω–∞ –∞—É–∫—Ü–∏–æ–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –¢–µ–∫—É—â–∞—è —Å—Ç–∞–≤–∫–∞ –∞—É–∫—Ü–∏–æ–Ω–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É undefined –≤ calculatePaymentDistribution

### –¢–µ—Å—Ç 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫—Ä–æ–ø–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É "Canvas is empty"
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

### –¢–µ—Å—Ç 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π
- ‚úÖ Service Worker v7 –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- ‚úÖ –ú–µ—Ö–∞–Ω–∏–∑–º force-refresh –æ–±–Ω–æ–≤–ª–µ–Ω
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–∑ —Ä—É—á–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ –∫–µ—à–∞

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é

1. **–ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π**:
   ```bash
   git add -A
   git commit -m "fix: –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–µ–Ω—ã, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –≤–µ—Ä—Å–∏–π"
   ```

2. **–î–µ–ø–ª–æ–π –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω**:
   ```bash
   ./deploy-to-production.sh
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è**:
   - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤–µ—Ä—Å–∏—è –≤ —Ñ—É—Ç–µ—Ä–µ –æ–±–Ω–æ–≤–∏–ª–∞—Å—å
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–∫—É–ø–∫—É –ø—Ä–æ–¥–∞–≤–∞–µ–º–æ–≥–æ –ø–æ—Å—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É –∏ –∫—Ä–æ–ø –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **Service Worker**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ v7 –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –Ω–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –¥–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–∏–Ω—É—Ç.
2. **–ö–µ—à –±—Ä–∞—É–∑–µ—Ä–∞**: force-refresh.js –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—Å—Ç–∏—Ç —Å—Ç–∞—Ä—ã–π –∫–µ—à –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏.
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Ü–µ–Ω–æ–π –∏–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏.

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- –¶–µ–Ω–∞ –≤—Å–µ–≥–¥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ –ø–æ—Å—Ç–æ–≤
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é —Å–∞–π—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–Ω. 